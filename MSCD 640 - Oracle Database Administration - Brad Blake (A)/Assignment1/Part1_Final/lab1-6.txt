*****************************************************************************
*****************************************************************************
Chapter 1, Number 1
*****************************************************************************
*****************************************************************************
List the path for the Oracle database binary installation files for any version of oracle
*****************************************************************************
*****************************************************************************
c:\oracle\product\10.2.0\db_1\   (for server)
c:\oracle\product\10.2.0\client_1\   (for client)
*****************************************************************************
*****************************************************************************
Chapter 1, Number 2
NOTE: MY FORMATTING DOESN'T HOLD, PLEASE REFER TO MY DIAGRAM IN THE .SQL FILE PLEASE
*****************************************************************************
*****************************************************************************
C:\
\all_apps\
\oracle\
\10.2.0\
\admin\
\local\
\bdump\  (holds alread log)
\cdump\  (holds core dumps)
\pfile\  (holds the init.ora file)
\udump\  (holds user trace files)
\db1\  (holds binary installation files)
\flash_recovery_area\
\oradata\
\local\  (holds the control files, data files, and redo log files)
*****************************************************************************
*****************************************************************************
Chapter 1, Number 3
*****************************************************************************
*****************************************************************************
ORACLE_HOME= c:\all_apps\oracle\10.2.0\db1
ORACLE_BASE= C:\all_apps\oracle\10.2.0\
*****************************************************************************
*****************************************************************************
Chapter 1, Number 4
*****************************************************************************
*****************************************************************************
SENDER ------------ACTION----------------------------------->  RECIPIENT
---------------------------------------------------------------------- prompt   CLIENT ---connects to Database on Server through TNSNAMES--->  SERVER
SERVER ---Accepts connection, Logs user on to database ----->  CLIENT
CLIENT ---Requests list of users from the database --------->  SERVER
SERVER ---Sends list of users to the user ------------------>  CLIENT
*****************************************************************************
*****************************************************************************
Chapter 1, Number 5
*****************************************************************************
*****************************************************************************
I am recommending we upgrade from the Oracle Standard Edition to the Oracle Enterprise Edition for our database software. As
an E-Commerce company, we need to realize that our Standard Edition provides low volume support via Web Access, while the Enterprise
Edition allows for multiple and high-volume web connections (and supports web-based and client/server applications!)
While the Standard Edition allows for multiple users, it isn't designed for high volume usage and is intended for a
very small number of people.  If we would like users to connect via the web, our base of connecting users will grow
dramatically.  The Enterprise Edition allows for high concurrency of user connections to the database.  Similarly, right now
we are struggling with connectivity to a mere one table (product).  Standard Edition assumes low volume while the EE supports
high volume.  With multiple people connecting both internally and via the web, this high volume data connection will be all
but necessary if we plan on growing.  Please consider allowing for an upgrade to the Oracle Enterprise Edition.
*****************************************************************************
*****************************************************************************
Chapter 2, Number 1
*****************************************************************************
*****************************************************************************
Using the Schema Manager, find the WANT_AD table in the CLASSMATE schema and display
the DDL command that created the table.  Save this as the file named ho0201.sql in
CREATE TABLE "CLASSMATE"."WANT_AD" ("AD_ID" NUMBER(10) NOT NULL,
"HEADLINE" VARCHAR2(20 byte) NOT NULL, "AD_TEXT" VARCHAR2(50
byte), "AD_OWNER" NUMBER(10) NOT NULL,
CONSTRAINT "T_AD_PK" PRIMARY KEY("AD_ID")
USING INDEX
TABLESPACE "USERS"
STORAGE ( INITIAL 64K NEXT 0K MINEXTENTS 1 MAXEXTENTS
2147483645 PCTINCREASE 0) PCTFREE 10 INITRANS 2 MAXTRANS 255,
CONSTRAINT "WANT_AD_OWNER_FK" FOREIGN KEY("AD_OWNER")
REFERENCES "CLASSMATE"."CLIENT"("CLIENT_ID"))
TABLESPACE "USERS" PCTFREE 10 PCTUSED 0 INITRANS 1 MAXTRANS
255
STORAGE ( INITIAL 64K NEXT 0K MINEXTENTS 1 MAXEXTENTS
2147483645 PCTINCREASE 0)
LOGGING
MONITORING
*****************************************************************************
*****************************************************************************
Chapter 2, Number 2, Part a
How many rows are in the [CLIENT] table? (based on Analyze statistics)
*****************************************************************************
*****************************************************************************
The answer is 6
*****************************************************************************
*****************************************************************************
chapter 2, Number 2, Part b
What is the average length of a row?
*****************************************************************************
*****************************************************************************
The answer is 47
*****************************************************************************
*****************************************************************************
Chapter 2, Number 2, Part c
How amny empty blocks are there for the table?
*****************************************************************************
*****************************************************************************
The answer is 0
*****************************************************************************
*****************************************************************************
Chapter 2, Number 3
*****************************************************************************
*****************************************************************************
(answer to 2.3 is attached ho0203.jpg file)
*****************************************************************************
*****************************************************************************
Chapter 2, Number 4, Part a
Is this [CLEINT_VIEW] view valid?  If not, list the Oracle error number(s) and message(s) you find
*****************************************************************************
*****************************************************************************
It is Invalid with this error message: "Line # = 0 Column # = 0 Error Text = ORA-00942: table or view does not exist"
*****************************************************************************
*****************************************************************************
Chapter 2, Number 4, Part b
How can this view be corrected?
This can be corrected by changing the table name from CLIENTS to CLIENT as CLIENTS does not exist.
*****************************************************************************
*****************************************************************************
Chapter 2, Number 4, Part c
Fix the view
*****************************************************************************
*****************************************************************************
ok, I fixed it and it is now valid
*****************************************************************************
*****************************************************************************
Chapter 2, Number 4, Part d
Save the DDL for the corrected view in your solutions direcotry in ho0204.sql
*****************************************************************************
*****************************************************************************
CREATE OR REPLACE VIEW "CLASSMATE"."CLIENT_VIEW" ("CLIENT_ID",
"FIRST_NAME","LAST_NAME","NUMBER_OF_ADS") AS
SELECT C.CLIENT_ID,
C.FIRST_NAME,
C.LAST_NAME,
COUNT(W.AD_ID) NUMBER_OF_ADS
FROM CLASSMATE.CLIENT C JOIN CLASSMATE.WANT_AD W
ON C.CLIENT_ID = W.AD_OWNER
GROUP BY C.CLIENT_ID,
C.FIRST_NAME,
C.LAST_NAME
*****************************************************************************
*****************************************************************************
Chapter 2, Number 5, Part a
Change the password of the CLASSMATE user to STUDENT
*****************************************************************************
*****************************************************************************
I did this by, within the EM, going to Security/Users and double-clicking on CLASSMATE
A box pops up whin which I can enter and confirm my password
*****************************************************************************
*****************************************************************************
Chapter 2, Number 5, part b
Using SQL*Plus, change CLASSMATE password back to CLASSPASS
*****************************************************************************
*****************************************************************************
alter user classmate identified by CLASSPASS

User altered.

*****************************************************************************
*****************************************************************************
Chapter 3, Question 1
What options would you use in the DBCA for the described database scenario
*****************************************************************************
*****************************************************************************
step1: I'd select Create a Database for more than obvious reasons
step2: I'd select General Purpose. Although it is mainly for data warehousing (as the data won't change),
25 branches will be loading data to the system, so there will be both input and output in this system.
step3: Select a fitting name and sid
step4: Configure for OEM so the Enterprise Manager can be used to maintain
step5: Select Passwords
step6: Sleect ASM as there will be I/O from multiple locations, so ASM can optimize the database for us
step7: Use database file locations from template such that your datafiles' locations will be standard
step8: Check 'Enable Archiving' as we'll want to archive the redo logs in case of a necessary recovery
step9: Check Oracle Data Mining as we'll be doing statistical analysis, and check Enterprise Mgr. Repository
step10: Typical - ASM is on and from my understanding, this will adjust our database to run at optimal
performance instead of our customizing.  Pool/Buffer sizes can be changed later if necessary.
step11: Verify where we want our file locations to be stored at
step12: Generate the scripts so we can run them and manually watch for errors while the database is created
*****************************************************************************
*****************************************************************************
Chapter 3, Question 2
*****************************************************************************
*****************************************************************************
Using the User-Managed File Management method will allow the DBA to alleviate performance issues on this new 3-drive server
through the utilization of mutliple tablespaces and log files on different disks, while customizing the size and name scheme
as well as the file locations of these files.  Currently the CAR_PART and ENGINE_PART table are quite large and frequently
accessed.  When using 10g's user-managed files, we will be able to place those two tables in separate tablespaces stored on
separate disk drives. By keeping these tablespaces on separate disk drives, they will not compete against each other for
priority in writing to the hard disks.  Likewise, the redologs, along with being multiplexed, can be kept on separate drives
such that the redo logs for CAR_PART can be multiplexed on the F and G drive and the redo logs for the ENGINE_PART table can
be multiplexed on the G and H drives. Along with increasing performance, this will provide for excellent backup precautions.
*****************************************************************************
*****************************************************************************
Chapter 3, Question 3
*****************************************************************************
*****************************************************************************
By utiling Oracle 10g's Oracle Managed Files system, along with Automatic Storage Management (AMS), we will be able to
have Oracle optimize our I/O issues for us. ASM optimizes our control files, data files, and redo log files after we select
the file locations, which we can spread out such that our tables CAR_PART and ENGINE_PART reside on tablespaces which are being
written to different disks on our F,G,H configuration so they need not compete for processing power.  Using OMF and ASM will
allow Oracle to monitor size adjustment and the deletion of files when necessary, freeing more time for the DBA's to focus
on other issues.
*****************************************************************************
*****************************************************************************
Chapter 3, Question 4
*****************************************************************************
*****************************************************************************
The errors I found were:
# before the Cache and I/O comment field
No comma should be between parameters (specifically the db_block_size and db_doman parameters)
Note:  Although the most common size for db_block_size is 8192 bites and this one is at 4096, I don't see this as an "error"
so I will leave it alone
The remote_logoin_passwordfile is set to EXCLUSIVE.  This is the default value so this isn't necessary to have in here.  I will remove it.
Spaces in the quotes of the control_file location will be removed
Need .'s in the compatible Oracle version, will add them, and the version in teh control file directory is 10.1.0, not 10.0.1 as the parameter indicates
DATABASE NAME needs a comment # before it
db_name has the db_domain in it, this is unnecessary.  the db_domain will be taken off the db_name parameter
db_name and db_domain will be placed next to each other for clarity
Here is my corrected init.ora file
#Cache and I/O
db_block_size=4096
control_files=("C:\oracle\product\10.1.0\oradata\trial102\control1099.ctl")
maxinstances=2
compatible=10.1.0
#Database Name
db_name=prod1001
instance_name=trial02
*****************************************************************************
*****************************************************************************
Chapter 3, question 5
fill in table 3-3 (answers below, both the scripts I used and the "table")
*****************************************************************************
*****************************************************************************
select value, name, isses_modifiable, issys_modifiable
from v$parameter
where name='db_block_buffers'

VALUE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            NAME                                                                             ISSES ISSYS_MOD                                                                                                                                             
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- -------------------------------------------------------------------------------- ----- ---------                                                                                                                                             
0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                db_block_buffers                                                                 FALSE FALSE                                                                                                                                                 

select value, name, isses_modifiable, issys_modifiable
from v$parameter
where name='global_names'

VALUE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            NAME                                                                             ISSES ISSYS_MOD                                                                                                                                             
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- -------------------------------------------------------------------------------- ----- ---------                                                                                                                                             
FALSE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            global_names                                                                     TRUE  IMMEDIATE                                                                                                                                             

select value, name, isses_modifiable, issys_modifiable
from v$parameter
where name='open_cursors'

VALUE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            NAME                                                                             ISSES ISSYS_MOD                                                                                                                                             
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- -------------------------------------------------------------------------------- ----- ---------                                                                                                                                             
300                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              open_cursors                                                                     FALSE IMMEDIATE                                                                                                                                             

select value, name, isses_modifiable, issys_modifiable
from v$parameter
where name='fixed_date'

VALUE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            NAME                                                                             ISSES ISSYS_MOD                                                                                                                                             
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- -------------------------------------------------------------------------------- ----- ---------                                                                                                                                             
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 fixed_date                                                                       FALSE IMMEDIATE                                                                                                                                             

select value, name, isses_modifiable, issys_modifiable
from v$parameter
where name='java_pool_size'

VALUE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            NAME                                                                             ISSES ISSYS_MOD                                                                                                                                             
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- -------------------------------------------------------------------------------- ----- ---------                                                                                                                                             
0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                java_pool_size                                                                   FALSE IMMEDIATE                                                                                                                                             

blank_trimming   alter system=no    alter session=no  	 default value=false
db_block_buffers alter system=no    alter session=no  	 default value=0
global_names     alter system=yes   alter session=yes     default value=false
open_cursors     alter system=yes   alter session=no      default value=0
fixed_date       alter system=yes   alter session=no      default value=null
java_pool_size   alter system=yes   alter session=no      default value=0
*****************************************************************************
*****************************************************************************
Chapter 3, Question 6
Change the pga_aggregate_target to 25M
*****************************************************************************
*****************************************************************************
alter system set pga_aggregate_target=25M

System altered.

show parameter pga_aggregate_target

NAME_COL_PLUS_SHOW_PARAM                                                         TYPE        VALUE_COL_PLUS_SHOW_PARAM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
-------------------------------------------------------------------------------- ----------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------                                                                                                                                                 
pga_aggregate_target                                                             big integer 25M                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
*****************************************************************************
*****************************************************************************
Chapter 3, Question 7
Change the job_queue_processes parameter to 12
*****************************************************************************
*****************************************************************************
show parameter job_queue_processes

NAME_COL_PLUS_SHOW_PARAM                                                         TYPE        VALUE_COL_PLUS_SHOW_PARAM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
-------------------------------------------------------------------------------- ----------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------                                                                                                                                                 
job_queue_processes                                                              integer     12                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
alter system set job_queue_processes=12

System altered.

show parameter job_queue_processes

NAME_COL_PLUS_SHOW_PARAM                                                         TYPE        VALUE_COL_PLUS_SHOW_PARAM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
-------------------------------------------------------------------------------- ----------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------                                                                                                                                                 
job_queue_processes                                                              integer     12                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
*****************************************************************************
*****************************************************************************
Chapter 3, Question 8
add tablespace indx to database.  make it an oracle managed file.
*****************************************************************************
*****************************************************************************
alter system set db_create_file_dest='C:\MSCD640\DBMS\APP\ADMIN\DA116\ORADATA\DISK1\'

System altered.

create tablespace INDX
create tablespace INDX
*
ERROR at line 1:
ORA-01543: tablespace 'INDX' already exists 


*****************************************************************************
*****************************************************************************
This query will show my tablespace's datafile's name and location
*****************************************************************************
*****************************************************************************
select file_name from dba_data_files

FILE_NAME                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------                                                                                                                                                                                                                                             
C:\MSCD640\DBMS\APP\ADMIN\DA116\ORADATA\DISK1\SYSTEM01.DBF                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
C:\MSCD640\DBMS\APP\ADMIN\DA116\ORADATA\DISK1\UNDOTBS01.DBF                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
C:\MSCD640\DBMS\APP\ADMIN\DA116\ORADATA\DISK2\SYSAUX01.DBF                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
C:\MSCD640\DBMS\APP\ADMIN\DA116\ORADATA\DISK2\USERS01.DBF                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
C:\MSCD640\DBMS\APP\ADMIN\DA116\ORADATA\DISK1\DA116\DATAFILE\O1_MF_INDX_3SF6JDO6_.DBF                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
C:\MSCD640\DBMS\APP\ADMIN\DA116\ORADATA\DISK1\USER_AUTO01.DBF                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
C:\MSCD640\DBMS\APP\ADMIN\DA116\ORADATA\DISK1\DA116\DATAFILE\O1_MF_HANDS62_3SN77YN1_.DBF                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      

7 rows selected.

*****************************************************************************
*****************************************************************************
Chapter 3, Question 9
Correct the CREATE DATABASE statement
*****************************************************************************
*****************************************************************************
Errors I found:
-unnecessary "FOR UPDATE of paralleldb".  Not sure what that was all about, deleted it
-remove word "TABLESPACE" from the datafile statement
-LOGFILE GROUPS should be ordered with numbers, not lettters
-LOGFILE GROUP path needs no letter drive if it's referencing the ORACLE_BASE environment variable
-renamed the log files to 1 and 2 since I renamed the log groups to 1 and 2
Here is my fixed file
CREATE DATABASE ultradb
MAXINSTANCES 25
DATAFILE 'ORACLE_BASE\oradata\system01.dbf'
CHARACTER_SET US7ASCII
LOGFILE GROUP 1 ('ORACLE_BASE\oradata\redo01.log') SIZE 50M,
GROUP 2 ('ORACLE_BASE\oradata\redo02.log') SIZE 50M
*****************************************************************************
*****************************************************************************
Chapter 3, Question 10
What are the DBCA differences in a Data Warehouse and Transaction Processing model
*****************************************************************************
*****************************************************************************
Difference 1: db_file_multiblock_read_count is 32 on DW and only 8 on TP
This is because the larger the value, the faster Oracle can read tables.  On a data warehouse, no writing (input) is done to the data.
So this amount can be larger, however, on a transaction processing database, it is smaller to allow for more input.
Difference 2: pga_aggregate_target is 32mb on Data warehouse, but only 16MB on Transaction Processing
This is because the program global area (PGA) is used more in a data warehouse than in an OLTP (Online Transaction Processing)
Difference 3: Data Warehouse enables star_transformation
The only database design that uses a star schema is the Data Warehouse, so this is only necessary here
*****************************************************************************
*****************************************************************************
Chapter 4, Question 1
Display contents of WANT_AD table as it would be seen in the OEM Schema Manager
*****************************************************************************
*****************************************************************************
COLUMN table_name HEADING 'Name' FORMAT a7
SELECT table_name FROM dba_tables WHERE table_name='WANT_AD'

Name                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
-------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
WANT_AD                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       

COLUMN owner HEADING 'Schema' FORMAT a10
SELECT owner FROM dba_tables WHERE table_name='WANT_AD'

Schema                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
CLASSMATE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     

COLUMN tablespace_name HEADING 'Tablespace' FORMAT a10
SELECT tablespace_name FROM dba_tables WHERE table_name='WANT_AD'

Tablespace                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
USERS                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         

SELECT DECODE(iot_name, null,'Standard','IOT') "Table"
FROM  dba_tables WHERE table_name='WANT_AD'

Table                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
--------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
Standard                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      

COLUMN column_name HEADING 'Name' FORMAT a10
COLUMN data_type HEADING 'Datatype' FORMAT a10
COLUMN char_col_decl_length HEADING 'Size'
COLUMN DECODE(data_scale,null,0) HEADING 'Scale' FORMAT a5
prompt COLUMN DECODE(nullable,'N','No','Y','Yes') HEADING 'Nulls?' FORMAT a6
COLUMN data_default HEADING 'Default Value' FORMAT a13
SELECT column_name, data_type, char_col_decl_length,
DECODE(data_scale,null,0),
DECODE(nullable,'N','No','Y','Yes'),
data_default
FROM dba_tab_columns
WHERE table_name='WANT_AD'

Name       Datatype         Size      Scale Nulls? Default Value                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
---------- ---------- ---------- ---------- ------ -------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
AD_ID      NUMBER                           No                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
HEADLINE   VARCHAR2           20 ########## No                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
AD_TEXT    VARCHAR2           50 ########## Yes                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
AD_OWNER   NUMBER                           No                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                

*****************************************************************************
*****************************************************************************
Chapter 4, Question 2
*****************************************************************************
*****************************************************************************
connect classmate/CLASSPASS@remote40116.world
Connected.
SET LINESIZE 1000
COLUMN column_name HEADING 'Column|Name' FORMAT a15
COLUMN num_rows HEADING 'Number|of|Rows'
COLUMN table_name HEADING 'Table|Name' FORMAT a10
COLUMN avg_row_len HEADING 'Avg.|Row|Length'
COLUMN avg_col_len HEADING 'Avg.|Column|Length'
COLUMN low_value HEADING 'Low Value'
COLUMN high_value HEADING 'High Value'
BREAK ON num_rows ON avg_row_len
SELECT ut.table_name,
ut.num_rows,
ut.avg_row_len,
utcs.column_name,
utcs.avg_col_len,
utcs.low_value,
utcs.high_value
FROM user_tables	ut,
user_tab_col_statistics utcs
WHERE ut.table_name = utcs.table_name
CLEAR COLUMNS

               Number       Avg.                       Avg.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
Table              of        Row Column              Column                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
Name             Rows     Length Name                Length Low Value                                                        High Value                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
---------- ---------- ---------- --------------- ---------- ---------------------------------------------------------------- ----------------------------------------------------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
WANT_AD             1         55 AD_ID                    4 C20202                                                           C20202                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
WANT_AD                          HEADLINE                18 57616E7465643A20416420577269746572                               57616E7465643A20416420577269746572                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
WANT_AD                          AD_TEXT                 29 4D7573742062652061626C6520746F2074797065203130302077706D         4D7573742062652061626C6520746F2074797065203130302077706D                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
WANT_AD                          AD_OWNER                 4 C20B1D                                                           C20B1D                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
CLIENT              6         47 CLIENT_ID                4 C20203                                                           C20B24                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
CLIENT                           FIRST_NAME               6 4A61636B                                                         57696E6479                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
CLIENT                           LAST_NAME                8 42726F6F6B                                                       57696C736F6E76696C6C65                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
CLIENT                           CONTACT_PHONE           12 3830302D3232322D33333333                                         3839392D30363735                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
CLIENT                           CONTACT_EMAIL           19 6A726A756E696F724068616E646D616E2E6C6973                         77696E64794073746F726D73727573                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
CH05PALS            3        198 CUST_ID                  3 C10B                                                             C11F                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
CH05PALS                         FIRST_NAME               6 4261727279                                                       4B6172656E                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
CH05PALS                         LAST_NAME                7 436F6F6B65                                                       566F7374                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
CH05PALS                         FAVORITE_COLORS        101 426C61636B2C20677261792C2077686974652C20656C65637472696320626C75 477265656E2C206C6176656E6465722C2079656C6C6F772C20616E6420617562                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
CH05PALS                         MOST_EMBARASSIN         82 49206C6F7374206D792070617373706F7274207768696C6520696E2053706169 546865206A756E696F722070726F6D2C207768656E206D7920626F7966726965                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
                                 G_MOMENT                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        

14 rows selected.

connect sys/oracle@remote40116.world as sysdba
Connected.
*****************************************************************************
*****************************************************************************
Chapter 4, Question 3
Part 1 - Display top 10 command which used the most memory (using all components)
*****************************************************************************
*****************************************************************************
SELECT sql_text
       *
ERROR at line 1:
ORA-00904: "SQL_TEXT": invalid identifier 


*****************************************************************************
*****************************************************************************
Part 2 - Display top 10 command which used the most CPU time
*****************************************************************************
*****************************************************************************
SELECT sql_text
FROM
(SELECT *
FROM v$sql
ORDER BY cpu_time DESC)
WHERE rownum <= 10

SQL_TEXT                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
SELECT ut.table_name,        ut.num_rows,        ut.avg_row_len,        utcs.column_name,        utcs.avg_col_len,        utcs.low_value,        utcs.high_value FROM user_tables ut,      user_tab_col_statistics utcs WHERE ut.table_name = utcs.table_name                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
select /*+ rule */ bucket, endpoint, col#, epvalue from histgrm$ where obj#=:1 and intcol#=:2 and row#=:3 order by bucket                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
BEGIN   BEGIN     IF (xdb.DBMS_XDBZ0.is_hierarchy_enabled_internal(sys.dictionary_obj_owner, sys.dictionary_obj_name, sys.dictionary_obj_owner)) THEN       xdb.XDB_PITRIG_PKG.pitrig_truncate(sys.dictionary_obj_owner, sys.dictionary_obj_name);     END IF;   EXCEPTION     WHEN OTHERS THEN      null;   END;   BEGIN     IF (xdb.DBMS_XDBZ0.is_hierarchy_enabled_internal(sys.dictionary_obj_owner, sys.dictionary_obj_name, sys.dictionary_obj_owner, xdb.DBMS_XDBZ.IS_ENABLED_RESMETADATA)) THEN       xdb.XDB_PITRIG_PKG.pitrig_dropmetadata(sys.dictionary_obj_owner, sys.dictionary_obj_name);     END IF;   EXCEPTION     WHEN OTHERS THEN      null;   END; END;                                                                                                                                                                                                                                                                                                                                                            
select /*+ rule */ bucket_cnt, row_cnt, cache_cnt, null_cnt, timestamp#, sample_size, minimum, maximum, distcnt, lowval, hival, density, col#, spare1, spare2, avgcln from hist_head$ where obj#=:1 and intcol#=:2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
select owner#,name,namespace,remoteowner,linkname,p_timestamp,p_obj#, nvl(property,0),subname,d_attrs from dependency$ d, obj$ o where d_obj#=:1 and p_obj#=obj#(+) order by order#                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
select obj#,type#,ctime,mtime,stime,status,dataobj#,flags,oid$, spare1, spare2 from obj$ where owner#=:1 and name=:2 and namespace=:3 and remoteowner is null and linkname is null and subname is null                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
select /*+ index(idl_ub1$ i_idl_ub11) +*/ piece#,length,piece from idl_ub1$ where obj#=:1 and part=:2 and version=:3 order by piece#                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
select /*+ rule */ bucket, endpoint, col#, epvalue from histgrm$ where obj#=:1 and intcol#=:2 and row#=:3 order by bucket                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
select order#,columns,types from access$ where d_obj#=:1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
SELECT /*+ ALL_ROWS */ COUNT(*) FROM ALL_POLICIES V WHERE V.OBJECT_OWNER = :B3 AND V.OBJECT_NAME = :B2 AND (POLICY_NAME LIKE '%xdbrls%' OR POLICY_NAME LIKE '%$xd_%') AND V.FUNCTION = :B1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              

10 rows selected.

*****************************************************************************
*****************************************************************************
Part 3 - Display top 10 command which used the most elapsed time
*****************************************************************************
*****************************************************************************
SELECT sql_text
FROM
(SELECT *
FROM v$sql
ORDER BY elapsed_time DESC)
WHERE rownum <= 10

SQL_TEXT                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
SELECT ut.table_name,        ut.num_rows,        ut.avg_row_len,        utcs.column_name,        utcs.avg_col_len,        utcs.low_value,        utcs.high_value FROM user_tables ut,      user_tab_col_statistics utcs WHERE ut.table_name = utcs.table_name                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
select /*+ rule */ bucket, endpoint, col#, epvalue from histgrm$ where obj#=:1 and intcol#=:2 and row#=:3 order by bucket                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
begin prvt_hdm.auto_execute( :db_id, :inst_id, :end_snap ); end;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
BEGIN   BEGIN     IF (xdb.DBMS_XDBZ0.is_hierarchy_enabled_internal(sys.dictionary_obj_owner, sys.dictionary_obj_name, sys.dictionary_obj_owner)) THEN       xdb.XDB_PITRIG_PKG.pitrig_truncate(sys.dictionary_obj_owner, sys.dictionary_obj_name);     END IF;   EXCEPTION     WHEN OTHERS THEN      null;   END;   BEGIN     IF (xdb.DBMS_XDBZ0.is_hierarchy_enabled_internal(sys.dictionary_obj_owner, sys.dictionary_obj_name, sys.dictionary_obj_owner, xdb.DBMS_XDBZ.IS_ENABLED_RESMETADATA)) THEN       xdb.XDB_PITRIG_PKG.pitrig_dropmetadata(sys.dictionary_obj_owner, sys.dictionary_obj_name);     END IF;   EXCEPTION     WHEN OTHERS THEN      null;   END; END;                                                                                                                                                                                                                                                                                                                                                            
select /*+ rule */ bucket_cnt, row_cnt, cache_cnt, null_cnt, timestamp#, sample_size, minimum, maximum, distcnt, lowval, hival, density, col#, spare1, spare2, avgcln from hist_head$ where obj#=:1 and intcol#=:2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
select obj#,type#,ctime,mtime,stime,status,dataobj#,flags,oid$, spare1, spare2 from obj$ where owner#=:1 and name=:2 and namespace=:3 and remoteowner is null and linkname is null and subname is null                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
select i.obj#,i.ts#,i.file#,i.block#,i.intcols,i.type#,i.flags,i.property,i.pctfree$,i.initrans,i.maxtrans,i.blevel,i.leafcnt,i.distkey,i.lblkkey,i.dblkkey,i.clufac,i.cols,i.analyzetime,i.samplesize,i.dataobj#,nvl(i.degree,1),nvl(i.instances,1),i.rowcnt,mod(i.pctthres$,256),i.indmethod#,i.trunccnt,nvl(c.unicols,0),nvl(c.deferrable#+c.valid#,0),nvl(i.spare1,i.intcols),i.spare4,i.spare2,i.spare6,decode(i.pctthres$,null,null,mod(trunc(i.pctthres$/256),256)),ist.cachedblk,ist.cachehit,ist.logicalread from ind$ i, ind_stats$ ist, (select enabled, min(cols) unicols,min(to_number(bitand(defer,1))) deferrable#,min(to_number(bitand(defer,4))) valid# from cdef$ where obj#=:1 and enabled > 1 group by enabled) c where i.obj#=c.enabled(+) and i.obj# = ist.obj#(+) and i.bo#=:1 order by i.obj#                                                                                                                                                                                                                   
select /*+ index(idl_ub1$ i_idl_ub11) +*/ piece#,length,piece from idl_ub1$ where obj#=:1 and part=:2 and version=:3 order by piece#                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
select owner#,name,namespace,remoteowner,linkname,p_timestamp,p_obj#, nvl(property,0),subname,d_attrs from dependency$ d, obj$ o where d_obj#=:1 and p_obj#=obj#(+) order by order#                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
SELECT /*+ ALL_ROWS */ COUNT(*) FROM ALL_POLICIES V WHERE V.OBJECT_OWNER = :B3 AND V.OBJECT_NAME = :B2 AND (POLICY_NAME LIKE '%xdbrls%' OR POLICY_NAME LIKE '%$xd_%') AND V.FUNCTION = :B1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              

10 rows selected.

*****************************************************************************
*****************************************************************************
Part 4 - Display top 10 command which used the most rows processed
*****************************************************************************
*****************************************************************************
SELECT sql_text
FROM
(SELECT *
FROM v$sql

ORDER BY rows_processed DESC)
WHERE rownum <= 10

SQL_TEXT                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
select /*+ rule */ bucket, endpoint, col#, epvalue from histgrm$ where obj#=:1 and intcol#=:2 and row#=:3 order by bucket                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
select name,intcol#,segcol#,type#,length,nvl(precision#,0),decode(type#,2,nvl(scale,-127/*MAXSB1MINAL*/),178,scale,179,scale,180,scale,181,scale,182,scale,183,scale,231,scale,0),null$,fixedstorage,nvl(deflength,0),default$,rowid,col#,property, nvl(charsetid,0),nvl(charsetform,0),spare1,spare2,nvl(spare3,0) from col$ where obj#=:1 order by intcol#                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
select /*+ rule */ bucket, endpoint, col#, epvalue from histgrm$ where obj#=:1 and intcol#=:2 and row#=:3 order by bucket                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
select size_for_estimate,                      size_factor * 100 f,                    estd_physical_read_time,                estd_physical_reads              from v$db_cache_advice where id = '3'                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
select /*+ rule */ bucket_cnt, row_cnt, cache_cnt, null_cnt, timestamp#, sample_size, minimum, maximum, distcnt, lowval, hival, density, col#, spare1, spare2, avgcln from hist_head$ where obj#=:1 and intcol#=:2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
select shared_pool_size_for_estimate s,          shared_pool_size_factor * 100 f,          estd_lc_load_time l, 0             from v$shared_pool_advice                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
select count(*) from sys.job$ where (next_date > sysdate) and (next_date < (sysdate+5/86400))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
select name,intcol#,segcol#,type#,length,nvl(precision#,0),decode(type#,2,nvl(scale,-127/*MAXSB1MINAL*/),178,scale,179,scale,180,scale,181,scale,182,scale,183,scale,231,scale,0),null$,fixedstorage,nvl(deflength,0),default$,rowid,col#,property, nvl(charsetid,0),nvl(charsetform,0),spare1,spare2,nvl(spare3,0) from col$ where obj#=:1 order by intcol#                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
update sys.col_usage$ set   equality_preds    = equality_preds    + decode(bitand(:flag,1),0,0,1),   equijoin_preds    = equijoin_preds    + decode(bitand(:flag,2),0,0,1),   nonequijoin_preds = nonequijoin_preds + decode(bitand(:flag,4),0,0,1),   range_preds       = range_preds       + decode(bitand(:flag,8),0,0,1),   like_preds        = like_preds        + decode(bitand(:flag,16),0,0,1),   null_preds        = null_preds        + decode(bitand(:flag,32),0,0,1),  timestamp = :time where obj# = :objn and intcol# = :coln                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
select pos#,intcol#,col#,spare1,bo#,spare2 from icol$ where obj#=:1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     

10 rows selected.

*****************************************************************************
*****************************************************************************
Chapter 4, Question 4
Multiplex the Control file - instructions
*****************************************************************************
*****************************************************************************
Step 1: Shut down database
Step 2: Copy the file through the operating system
Step 3: Place the copied file in the directories:
D:\oracle\product\10.2.0\oradata\TEST01\control1
E:\oracle\product\10.2.0\oradata\TEST01\control1
Rename the control files to control02.ctl and control03.ctl respectively
Step 4: Open init<sid>.ora file for editing
Step 5: Add the two new paths/files created and renamed in Step 3 to the control_files parameter
and save the init<sid>.ora file
Step 6: Start the database in MOUNT mode with the pfile parameter
Step 7: use the CREATE SPFILE ... FROM PFILE command
Step 8: Restart the database
*****************************************************************************
*****************************************************************************
Chapter 4, Question 5
*****************************************************************************
*****************************************************************************
The command is as follows:
ALTER DATABASE BACKUP CONTROLFILE TO TRACE
This will put the control file creation script in the bdump alert log file
Find this dump file and save this statement for future use.
*****************************************************************************
*****************************************************************************
Chapter 4, Question 6
*****************************************************************************
*****************************************************************************
I would recommend dba_tables, dba_tab_cols, dba_tab_col_statistics
These contain all the data dictionary of the tables (dba_tables), the makeup of the columns (dba_tab_cols),
and breakdowns of statistics in each of these columns. dba_tab_col_statistics can show columns which
have no values in them.
*****************************************************************************
*****************************************************************************
Chater 4, Question 7, Part A
Query to find the redo log group numbers and how many members each group has
*****************************************************************************
*****************************************************************************
SELECT group#, members FROM v$log

    GROUP#    MEMBERS                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
---------- ----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
         1          1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
         2          1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
         3          1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   

*****************************************************************************
*****************************************************************************
Chapter 4, Question 7, Part B
What directory(ies) hold the redo log group members
*****************************************************************************
*****************************************************************************
SELECT member FROM v$logfile

MEMBER                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
C:\MSCD640\DBMS\APP\ADMIN\DA116\ORADATA\DISK5\REDO03.LOG                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
C:\MSCD640\DBMS\APP\ADMIN\DA116\ORADATA\DISK4\REDO02.LOG                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
C:\MSCD640\DBMS\APP\ADMIN\DA116\ORADATA\DISK3\REDO01.LOG                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                

*****************************************************************************
*****************************************************************************
Chapter 4, Question 7, Part C
Are there archived redo log files?  Where are they?  How many are there?
*****************************************************************************
*****************************************************************************
SELECT * FROM v$archived_log

no rows selected

There are no archived logs.
*****************************************************************************
*****************************************************************************
Chapter 4, Question 8
*****************************************************************************
*****************************************************************************
SHUTDOWN
--now manually move the files using copy/paste such that drive C contains one file of groups 1, 2, and 3
--drive D contains one file of groups 1, 2, and 3, and drive E contains the third file of group 3.
Now we will rename the current files
STARTUP MOUNT
ALTER DATABASE RENAME FILE 'c:\oracle\product\10.2.0\oradata\TEST01\file1a' to 'C:\oracle\product\10.2.0\oradata\TEST01\redo01.log'
ALTER DATABASE RENAME FILE 'c:\oracle\product\10.2.0\oradata\TEST01\file2a' to 'C:\oracle\product\10.2.0\oradata\TEST01\redo02C.log'
ALTER DATABASE RENAME FILE 'C:\oracle\product\10.2.0\oradata\TEST01\file3a' to 'C:\oracle\product\10.2.0\oradata\TEST01\redo03C.log'
ALTER DATABASE RENAME FILE 'D:\oracle\product\10.2.0\oradata\TEST01\file1b' to 'C:\oracle\product\10.2.0\oradata\TEST01\redo01.log'
ALTER DATABASE RENAME FILE 'D:\oracle\product\10.2.0\oradata\TEST01\file2b' to 'C:\oracle\product\10.2.0\oradata\TEST01\redo02d.log'
ALTER DATABASE RENAME FILE 'D:\oracle\product\10.2.0\oradata\TEST01\file3b' to 'C:\oracle\product\10.2.0\oradata\TEST01\redo03d.log'
ALTER DATABASE RENAME FILE 'D:\oracle\product\10.2.0\oradata\TEST01\file3c' to 'C:\oracle\product\10.2.0\oradata\TEST01\redo03e.log'
ALTER DATABASE OPEN
Now we will add the files which need to be added to add a third file to groups one and two
ALTER DATABASE ADD LOGFILE MEMBER 'E:\oracle\product\10.2.0\oradata\TEST01\redo01.log' TO GROUP 1
ALTER DATABASE ADD LOGFILE MEMBER 'E:\oracle\product\10.2.0\oradata\TEST01\redo02e.log' TO GROUP 2
*****************************************************************************
*****************************************************************************
Chapter 5, Question 1
*****************************************************************************
*****************************************************************************
CREATE TABLESPACE TEST
DATAFILE 'c:\MSCD640\DBMS\APP\ADMIN\DA116\ORADATA\DISK1\test01.dbf' SIZE 5M
EXTENT MANAGEMENT AUTOALLOCATE SEGMENT SPACE MANAGEMENT AUTO
*****************************************************************************
*****************************************************************************
Chapter 5, Question 2, part 1 - Create Tablespace
*****************************************************************************
*****************************************************************************
CREATE TABLESPACE HANDS_62
*
ERROR at line 1:
ORA-01119: error in creating database file 'C:\TEMP\hands_62_mack.dbf' 
ORA-27038: created file already exists 
OSD-04010: <create> option specified, file already exists 


*****************************************************************************
*****************************************************************************
Chapter 5, Question 2, Part 2 - Add datafile to tablespace
*****************************************************************************
*****************************************************************************
ALTER TABLESPACE HANDS_62
ADD DATAFILE 'C:\TEMP\hands_62_mack_2.dbf' SIZE 5M
ALTER TABLESPACE HANDS_62
*
ERROR at line 1:
ORA-00959: tablespace 'HANDS_62' does not exist 


*****************************************************************************
*****************************************************************************
Chapter 5, Question 2, Part 3 - Query data dictionary to display total available space in tablespace
*****************************************************************************
*****************************************************************************
select tablespace_name, (sum(bytes)/(1024*1024)) "Free Space (MB)"
from dba_free_space
where tablespace_name='HANDS_62'
group by tablespace_name

no rows selected

*****************************************************************************
*****************************************************************************
Chapter 5, Question 2, Part 4 - Make tablespace read only and take offline
*****************************************************************************
*****************************************************************************
ALTER TABLESPACE HANDS_62 READ ONLY
ALTER TABLESPACE HANDS_62 OFFLINE
ALTER TABLESPACE HANDS_62 READ ONLY
*
ERROR at line 1:
ORA-00959: tablespace 'HANDS_62' does not exist 


ALTER TABLESPACE HANDS_62 OFFLINE
*
ERROR at line 1:
ORA-00959: tablespace 'HANDS_62' does not exist 


*****************************************************************************
*****************************************************************************
Chapter 5, Question 2, Part 5 - Drop tablespace
*****************************************************************************
*****************************************************************************
DROP TABLESPACE HANDS_62
INCLUDING CONTENTS
AND DATAFILES
DROP TABLESPACE HANDS_62
*
ERROR at line 1:
ORA-00959: tablespace 'HANDS_62' does not exist 


*****************************************************************************
*****************************************************************************
Chapter 5, Question 3, Part 1 - Create tablespace using OMF
*****************************************************************************
*****************************************************************************
CREATE TABLESPACE HANDS62
CREATE TABLESPACE HANDS62
*
ERROR at line 1:
ORA-01543: tablespace 'HANDS62' already exists 


*****************************************************************************
*****************************************************************************
Chapter 5, Question 3, Part 2 - Add datafile to tablespace
*****************************************************************************
*****************************************************************************
ALTER TABLESPACE HANDS_62
ADD DATAFILE 'C:\TEMP\hands_62_mack_3.dbf' SIZE 5M
ALTER TABLESPACE HANDS_62
*
ERROR at line 1:
ORA-00959: tablespace 'HANDS_62' does not exist 


*****************************************************************************
*****************************************************************************
Chapter 5, Question 3, Part 3 - Query data dictionary to display total available space in tablespace
*****************************************************************************
*****************************************************************************
select tablespace_name, (sum(bytes)/(1024*1024)) "Free Space (MB)"
from dba_free_space
where tablespace_name='HANDS_62'
group by tablespace_name

no rows selected

*****************************************************************************
*****************************************************************************
Chapter 5, Question 3, Part 4 - Make tablespace read only and take offline
*****************************************************************************
*****************************************************************************
ALTER TABLESPACE HANDS_62 READ ONLY
ALTER TABLESPACE HANDS_62 READ ONLY
*
ERROR at line 1:
ORA-00959: tablespace 'HANDS_62' does not exist 


ALTER TABLESPACE HANDS_62 OFFLINE
ALTER TABLESPACE HANDS_62 OFFLINE
*
ERROR at line 1:
ORA-00959: tablespace 'HANDS_62' does not exist 


*****************************************************************************
*****************************************************************************
Chapter 5, Question 3, Part 5 - Drop tablespace
*****************************************************************************
*****************************************************************************
DROP TABLESPACE HANDS_62
DROP TABLESPACE HANDS_62
*
ERROR at line 1:
ORA-00959: tablespace 'HANDS_62' does not exist 


*****************************************************************************
*****************************************************************************
Chapter 5, Question 4
*****************************************************************************
*****************************************************************************
It is difficult for a DBA to manage a tablespace when the storage within tables are constantly being increased.  By simply taking
one field from a value of char(50) to char(100), the size of that field has doubled.  When the size of fields increase,
the table can fill its MAXEXTENTS limit quickly, as when that is reached the table (or any other schema object) cannot
continue to grow.  Likewise, when a tablespace reaches its capacity, productivity comes to a halt until the database can be
increased in size.  I would recommend that the tablespace be modified with the parameters of MAXEXTENTS UNLIMITED and
AUTOEXTEND ON such that the tables can grow to an unlimited extent size, and so that the tablespace can increase in size
without bringing the database's productivity to a halt.
*****************************************************************************
*****************************************************************************
Chapter 5, Question 5
*****************************************************************************
*****************************************************************************
An extent is the smallest group of data that can be entered or retrieved from a database's memory.  A table,
(which is the largest out of the extent, segment, and table) is a schema object which has one segment per partition
it is stored on.  If a table is only stored on one partition, it only has one segment. A
segment is made up of as many extents as it takes in order to fulfull the table's storage needs.
*****************************************************************************
*****************************************************************************
Chapter 5, Question 6, Part 1
Add identical data file
*****************************************************************************
*****************************************************************************
ALTER TABLESPACE CUSTOMERSERVICES
ADD DATAFILE 'C:\temp\cust_serv02.dbf' SIZE50M
AUTOEXTEND OFF
*****************************************************************************
*****************************************************************************
Chapter 5, Question 6, Part 2
make first data file 25M
*****************************************************************************
*****************************************************************************
ALTER DATABASE DATAFILE 'c:\temp_cust_serv01.dbf'
RESIZE 25M
*****************************************************************************
*****************************************************************************
Chapter 5, Question 6, Part 3
*****************************************************************************
*****************************************************************************
Make the second datafile expandable forever
ALTER DATABASE DATAFILE 'C:\temp\cust_serv02.dbf' AUTOEXTEND ON
ALTER DATABASE DATAFILE 'C:\temp\cust_serv02.dbf' MAXEXTENTS UNLIMITED
I think a benefit of having an unlimited datafile would be production.  When a datafile is filled, the time doesn't
need to be taken to enlarge the datafile as autoextend takes care of this for you.  I would think a con of this would be
that the tablespace could grow to fill a hard disk and cause a database crash.
*****************************************************************************
*****************************************************************************
Chapter 5, Question 7
*****************************************************************************
*****************************************************************************
CREATE TEMPORARY TABLESPACE MACK
TEMPFILE SIZE 20M
set linesize 750
column "Tablespace Name" FORMAT a15
SELECT tb.name "Tablespace Name",
tp.bytes/(1024*1024) "Size (MB)",
tp.name "Datafile Name"
FROM V$TABLESPACE	tb,
V$TEMPFILE	tp
WHERE tb.ts#	 = tp.ts#
AND tb.name = 'MACK'
CLEAR COLUMNS
CREATE TEMPORARY TABLESPACE MACK
*
ERROR at line 1:
ORA-01543: tablespace 'MACK' already exists 



Tablespace Name  Size (MB) Datafile Name                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
--------------- ---------- ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------                                                                                                                                                                                                                  
MACK                    20 C:\MSCD640\DBMS\APP\ADMIN\DA116\ORADATA\DISK1\DA116\DATAFILE\O1_MF_MACK_3SN3HZ5G_.TMP                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              

*****************************************************************************
*****************************************************************************
Chapter 5, Question 8
Query to find your current temporary tablespace when logged on as sys
*****************************************************************************
*****************************************************************************
SELECT tablespace_name
FROM dba_tablespaces
WHERE contents='TEMPORARY'
AND status='ONLINE'

TABLESPACE_NAME                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
------------------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
TEMP                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
MACK                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          

*****************************************************************************
*****************************************************************************
Query to show current space used and free space in all temporary tablespaces
*****************************************************************************
*****************************************************************************
SELECT (SUM(bytes_used)/(1024*1024)) "Used Space (MB)",
(SUM(bytes_free)/(1024*1024)) "Free Space (MB)"
FROM v$temp_space_header

Used Space (MB) Free Space (MB)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
--------------- ---------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
             21              19                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               

*****************************************************************************
*****************************************************************************
Chapter 5, Question 9
display the undo-related initialization parameters
*****************************************************************************
*****************************************************************************
SHOW PARAMETERS UNDO

NAME_COL_PLUS_SHOW_PARAM                                                         TYPE        VALUE_COL_PLUS_SHOW_PARAM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
-------------------------------------------------------------------------------- ----------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------                                                                                                                                                 
undo_management                                                                  string      AUTO                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
undo_retention                                                                   integer     600                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
undo_tablespace                                                                  string      UNDOTBS1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
*****************************************************************************
*****************************************************************************
Change the retention time to 10 minutes
*****************************************************************************
*****************************************************************************
ALTER SYSTEM SET UNDO_RETENTION=600

System altered.

*****************************************************************************
*****************************************************************************
Write a Query using DBA_UNDO_EXTENTS to summarize the used blocks in the undo tablespace
*****************************************************************************
*****************************************************************************
select status, sum(blocks)
from dba_undo_extents
group by status

STATUS    SUM(BLOCKS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
--------- -----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
UNEXPIRED          96                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
EXPIRED           480                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         

*****************************************************************************
*****************************************************************************
Chapter 6, Question 1, Part a
Find 2 performance views of redo log files
*****************************************************************************
*****************************************************************************
They are v$log and v$logfile
*****************************************************************************
*****************************************************************************
Chapter 6, Question 1, Part b
QUery to display redo log groups excluding member details
*****************************************************************************
*****************************************************************************
SELECT * FROM v$log

    GROUP#    THREAD#  SEQUENCE#      BYTES    MEMBERS ARC STATUS           FIRST_CHANGE# FIRST_TIM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
---------- ---------- ---------- ---------- ---------- --- ---------------- ------------- ---------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
         1          1          2   52428800          1 NO  INACTIVE                608322 10-JAN-08                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
         2          1          3   52428800          1 NO  INACTIVE                646646 23-JAN-08                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
         3          1          4   52428800          1 NO  CURRENT                 708910 25-JAN-08                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           

*****************************************************************************
*****************************************************************************
Chapter 6, Question 1, Part c
Query to display redo log members as well as groups
*****************************************************************************
*****************************************************************************
SELECT * FROM v$logfile

    GROUP# STATUS  TYPE    MEMBER                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            IS_                                                                                                                                                                                                              
---------- ------- ------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- ---                                                                                                                                                                                                              
         3         ONLINE  C:\MSCD640\DBMS\APP\ADMIN\DA116\ORADATA\DISK5\REDO03.LOG                                                                                                                                                                                                                                                                                                                                                                                                                                                                          NO                                                                                                                                                                                                               
         2         ONLINE  C:\MSCD640\DBMS\APP\ADMIN\DA116\ORADATA\DISK4\REDO02.LOG                                                                                                                                                                                                                                                                                                                                                                                                                                                                          NO                                                                                                                                                                                                               
         1         ONLINE  C:\MSCD640\DBMS\APP\ADMIN\DA116\ORADATA\DISK3\REDO01.LOG                                                                                                                                                                                                                                                                                                                                                                                                                                                                          NO                                                                                                                                                                                                               

*****************************************************************************
*****************************************************************************
Chapter 6, Question 1, Part d
Query to link all redo log members with their respective groups
*****************************************************************************
*****************************************************************************
SELECT group#, member FROM v$logfile

    GROUP# MEMBER                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
---------- ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------                                                                                                                                                                                                                                  
         3 C:\MSCD640\DBMS\APP\ADMIN\DA116\ORADATA\DISK5\REDO03.LOG                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
         2 C:\MSCD640\DBMS\APP\ADMIN\DA116\ORADATA\DISK4\REDO02.LOG                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
         1 C:\MSCD640\DBMS\APP\ADMIN\DA116\ORADATA\DISK3\REDO01.LOG                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           

*****************************************************************************
*****************************************************************************
Chapter 6, Question 2
*****************************************************************************
*****************************************************************************
SELECT object_name, object_type
FROM dba_objects
WHERE object_type IN ('TABLE','VIEW')
AND OWNER='CLASSMATE'
ORDER BY object_name

OBJECT_NAME                                                                                                                      OBJECT_TYPE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
-------------------------------------------------------------------------------------------------------------------------------- -------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
BIN$Qe20+pW+T7iIPetOIKE0Lg==$0                                                                                                   TABLE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
CH05PALS                                                                                                                         TABLE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
CLIENT                                                                                                                           TABLE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
CLIENT_VIEW                                                                                                                      VIEW                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
WANT_AD                                                                                                                          TABLE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
WANT_AD_COMPLETE_VIEW                                                                                                            VIEW                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         

6 rows selected.

*****************************************************************************
*****************************************************************************
Chapter 6, Question 3, Part a
Find CLASSMATE user, CLIENT table, CLIENT_ID values between 1000 and 2000
*****************************************************************************
*****************************************************************************
SELECT client_id
FROM classmate.client
WHERE client_id BETWEEN 1000 and 2000

 CLIENT_ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
      1028                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
      1029                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
      1030                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
      1031                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
      1035                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    

*****************************************************************************
*****************************************************************************
Chapter 6, Question 3, Part b
Find all CLASSMATE user, CLIENT table rows, where no 1-800 numbers are included
NOTE: All values in the table are 800-, not 1-800- like the book suggests
*****************************************************************************
*****************************************************************************
SELECT *
FROM classmate.client
WHERE SUBSTR(contact_phone,1,3) <> 800

 CLIENT_ID FIRST_NAME LAST_NAME            CONTACT_PHONE   CONTACT_EMAIL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
---------- ---------- -------------------- --------------- ------------------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
      1031 Windy      Storm                899-0675        windy@stormsrus                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
      1035 Pat        Powell               808-321-1234    pat.powell@brains.inc                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
       102 Leslie     Moore                876-0987        leslie@moore.jet                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   

*****************************************************************************
*****************************************************************************
Chapter 6, Question 3, Part C
Find all CLASSMATE.Client rows minus the last names Brook, Storm, and Moore
*****************************************************************************
*****************************************************************************
SELECT *
FROM classmate.client
WHERE Last_Name NOT IN ('Brook','Storm','Moore')

 CLIENT_ID FIRST_NAME LAST_NAME            CONTACT_PHONE   CONTACT_EMAIL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
---------- ---------- -------------------- --------------- ------------------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
      1028 Mark       Wilsonville          800-222-3333    markw@hhhiii.net                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      1030 Jack       Rueda Jr.            800-349-0987    jrjunior@handman.lis                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
      1035 Pat        Powell               808-321-1234    pat.powell@brains.inc                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              

*****************************************************************************
*****************************************************************************
Chapter 6, Question 3, Part D
Find all datafiles that exist as tablespaces using V$ performance views.
Use a single subquery and a where clause with only an expression on the left of the where clause
*****************************************************************************
*****************************************************************************
SELECT name
FROM v$datafile	dt
WHERE dt.ts# IN
(SELECT tb.ts#
FROM v$tablespace	tb
WHERE tb.ts# = dt.ts#)

NAME                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------                                                                                                                                                                                                                                             
C:\MSCD640\DBMS\APP\ADMIN\DA116\ORADATA\DISK1\SYSTEM01.DBF                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
C:\MSCD640\DBMS\APP\ADMIN\DA116\ORADATA\DISK1\UNDOTBS01.DBF                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
C:\MSCD640\DBMS\APP\ADMIN\DA116\ORADATA\DISK2\SYSAUX01.DBF                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
C:\MSCD640\DBMS\APP\ADMIN\DA116\ORADATA\DISK2\USERS01.DBF                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
C:\MSCD640\DBMS\APP\ADMIN\DA116\ORADATA\DISK1\DA116\DATAFILE\O1_MF_INDX_3SF6JDO6_.DBF                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
C:\MSCD640\DBMS\APP\ADMIN\DA116\ORADATA\DISK1\USER_AUTO01.DBF                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
C:\MSCD640\DBMS\APP\ADMIN\DA116\ORADATA\DISK1\DA116\DATAFILE\O1_MF_HANDS62_3SN77YN1_.DBF                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      

7 rows selected.

*****************************************************************************
*****************************************************************************
Chapter 6, Question 4
Find First 10 rows in teh ALL_OBJECTS view
*****************************************************************************
*****************************************************************************
SELECT * FROM all_objects
WHERE rownum <= 10

OWNER                          OBJECT_NAME                    SUBOBJECT_NAME                  OBJECT_ID DATA_OBJECT_ID OBJECT_TYPE         CREATED   LAST_DDL_ TIMESTAMP           STATUS  T G S                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
------------------------------ ------------------------------ ------------------------------ ---------- -------------- ------------------- --------- --------- ------------------- ------- - - -                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
SYS                            ICOL$                                                                 20              2 TABLE               30-AUG-05 30-AUG-05 2005-08-30:13:50:24 VALID   N N N                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
SYS                            I_USER1                                                               44             44 INDEX               30-AUG-05 30-AUG-05 2005-08-30:13:50:25 VALID   N N N                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
SYS                            CON$                                                                  28             28 TABLE               30-AUG-05 30-AUG-05 2005-08-30:13:50:24 VALID   N N N                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
SYS                            UNDO$                                                                 15             15 TABLE               30-AUG-05 30-AUG-05 2005-08-30:13:50:24 VALID   N N N                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
SYS                            C_COBJ#                                                               29             29 CLUSTER             30-AUG-05 30-AUG-05 2005-08-30:13:50:24 VALID   N N N                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
SYS                            I_OBJ#                                                                 3              3 INDEX               30-AUG-05 30-AUG-05 2005-08-30:13:50:24 VALID   N N N                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
SYS                            PROXY_ROLE_DATA$                                                      25             25 TABLE               30-AUG-05 30-AUG-05 2005-08-30:13:50:24 VALID   N N N                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
SYS                            I_IND1                                                                39             39 INDEX               30-AUG-05 30-AUG-05 2005-08-30:13:50:25 VALID   N N N                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
SYS                            I_CDEF2                                                               51             51 INDEX               30-AUG-05 30-AUG-05 2005-08-30:13:50:25 VALID   N N N                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
SYS                            I_PROXY_ROLE_DATA$_1                                                  26             26 INDEX               30-AUG-05 30-AUG-05 2005-08-30:13:50:24 VALID   N N N                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              

10 rows selected.

*****************************************************************************
*****************************************************************************
Chapter 6, Question 5
Same as Number 4 but sort by object_name within the owner column
*****************************************************************************
*****************************************************************************
SELECT * FROM all_objects
WHERE rownum <= 10
ORDER BY owner, object_name

OWNER                          OBJECT_NAME                    SUBOBJECT_NAME                  OBJECT_ID DATA_OBJECT_ID OBJECT_TYPE         CREATED   LAST_DDL_ TIMESTAMP           STATUS  T G S                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
------------------------------ ------------------------------ ------------------------------ ---------- -------------- ------------------- --------- --------- ------------------- ------- - - -                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
SYS                            CON$                                                                  28             28 TABLE               30-AUG-05 30-AUG-05 2005-08-30:13:50:24 VALID   N N N                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
SYS                            C_COBJ#                                                               29             29 CLUSTER             30-AUG-05 30-AUG-05 2005-08-30:13:50:24 VALID   N N N                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
SYS                            ICOL$                                                                 20              2 TABLE               30-AUG-05 30-AUG-05 2005-08-30:13:50:24 VALID   N N N                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
SYS                            I_CDEF2                                                               51             51 INDEX               30-AUG-05 30-AUG-05 2005-08-30:13:50:25 VALID   N N N                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
SYS                            I_IND1                                                                39             39 INDEX               30-AUG-05 30-AUG-05 2005-08-30:13:50:25 VALID   N N N                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
SYS                            I_OBJ#                                                                 3              3 INDEX               30-AUG-05 30-AUG-05 2005-08-30:13:50:24 VALID   N N N                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
SYS                            I_PROXY_ROLE_DATA$_1                                                  26             26 INDEX               30-AUG-05 30-AUG-05 2005-08-30:13:50:24 VALID   N N N                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
SYS                            I_USER1                                                               44             44 INDEX               30-AUG-05 30-AUG-05 2005-08-30:13:50:25 VALID   N N N                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
SYS                            PROXY_ROLE_DATA$                                                      25             25 TABLE               30-AUG-05 30-AUG-05 2005-08-30:13:50:24 VALID   N N N                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
SYS                            UNDO$                                                                 15             15 TABLE               30-AUG-05 30-AUG-05 2005-08-30:13:50:24 VALID   N N N                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              

10 rows selected.

